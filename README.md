# Telegram Movie Search Bot

Этот проект представляет собой Telegram-бота для поиска фильмов и сериалов через API Кинопоиска. Бот взаимодействует с пользователями и предоставляет информацию о доступных фильмах на основе их запросов по названию, рейтингу и жанру.

## Описание

Telegram-бот может выполнять следующие функции:

- **/start**: приветственное сообщение и отображение главного меню.
- **/help**: список доступных команд и описание функциональности.
- **/movie_search**: поиск фильма или сериала по названию.
- **/movie_by_rating**: поиск фильмов или сериалов по рейтингу и жанру.
- **/movie_by_budget**: поиск фильмов по бюджету и жанру.
- **/history**: просмотр истории поиска.

## Функциональность

- **Поиск по названию**: пользователи могут вводить название фильма или сериала и получать список соответствующих результатов.
- **Поиск по рейтингу и жанру**: пользователи могут искать фильмы по рейтингу (указывая диапазон или конкретное значение) и фильтровать результаты по жанру.
- **Поиск по бюджету и жанру**: пользователи могут искать малобюджетные (0-1,500,000 USD) или высокобюджетные (100,000,000 USD и выше) фильмы, фильтруя результаты по жанру.
- **Просмотр информации о фильме**: бот предоставляет подробную информацию о каждом фильме, включая название, описание, рейтинг, год выпуска, жанр, возрастной рейтинг и постер.
- **Отмена действий**: пользователи могут отменить текущий запрос в любой момент, вернувшись в главное меню.
- **История поиска**: бот сохраняет историю поиска для каждого пользователя, позволяя им просматривать свои предыдущие запросы через команду `/history`.

## 1. Установка

### Предварительные требования

- Python 3.6 или выше
- Установленный Git (опционально)
- Токен бота Telegram
- API-ключ для Кинопоиска

### 2. Клонирование репозитория

```bash
git clone https://github.com/yourusername/telegram-movie-search-bot.git
cd telegram-movie-search-bot
```

## 3. Создание виртуального окружения
### Рекомендуется использовать виртуальное окружение для изоляции зависимостей проекта. 
### Windows:

```
python -m venv venv
venv\Scripts\activate
```

## 4. Установка зависимостей
### Установите необходимые пакеты из файла requirements.txt:

```
pip install -r requirements.txt
```

## 5. Настройка переменных окружения
### Создайте файл .env в корневой директории проекта и добавьте в него ваши токены:

```
TELEGRAM_TOKEN=YOUR_TELEGRAM_TOKEN
KINOPOISK_API_KEY=YOUR_KINOPOISK_API_KEY
```

#### Важно: Не добавляйте кавычки вокруг значений и не включайте .env в систему контроля версий.

## 6. Обновление файла ```.gitignore```
### Убедитесь, что файл .gitignore содержит следующие строки, чтобы исключить конфиденциальные данные и виртуальное окружение из репозитория:

```
# Исключить виртуальное окружение
venv/

# Исключить файлы настроек среды
.env

# Исключить скомпилированные файлы Python
__pycache__/
*.pyc

# Исключить логи
*.log
```

## 7. Запуск бота
### После завершения установки и настройки вы можете запустить бота с помощью следующей команды:
```
python main.py
```
### или
#### Запустите файл ```main.py``` напрямую через среду разработки (IDE)

# Дополнительно:
## Структура проекта:
```
├── api
│   └── kinopoisk_api.py        # Модуль для взаимодействия с API Кинопоиска
├── handlers
│   └── handlers.py             # Обработчики команд и сообщений бота
├── utils
│   └── models.py               # Модели данных для фильмов и сериалов
├── main.py                     # Точка входа в приложение
├── loader.py                   # Инициализация бота и регистрация обработчиков
├── requirements.txt            # Список зависимостей проекта
├── .gitignore                  # Файл игнорирования для Git
└── README.md                   # Документация проекта
```

## Зависимости

```
python-telegram-bot==13.15
requests==2.28.1
python-dotenv==0.20.0
```




   